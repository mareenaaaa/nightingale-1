(self.modernJsonp=self.modernJsonp||[]).push([["34284"],{396903(e,t,i){i.d(t,{AF:()=>A,HA:()=>w,IK:()=>y,K0:()=>x,LT:()=>v,Ve:()=>g,uo:()=>b});var r=i(61163),n=i(859471),a=i(33658),s=i(136095),o=i(81920),l=i(562615);let d={},c={},u={},p=!1,h=0,m={},_={},f=(0,n.createContext)({setMetric:()=>void 0,setRawData:()=>void 0,setRmaData:()=>void 0,updateCommitTimeMap:()=>void 0,setGroupTags:()=>void 0,commitTimeMap:{},wasHealthCheckFiredRef:{current:!1}});function x({children:e}){(0,n.useEffect)(()=>{(0,r.A)("RenderPerformanceContext","/app/common/react/components/ProfilerWithStats/RenderPerformanceContext.tsx")},[]);let t=(0,n.useRef)(!1),i=(0,n.useCallback)(({handlerId:e,componentId:t,uniqueId:i,metric:r})=>{d[e]||(d[e]={}),d[e][t]||(d[e][t]={}),d[e][t][i]=r},[]),s=(0,n.useCallback)(({handlerId:e,componentId:t,uniqueId:i,rawData:r})=>{u[e]||(u[e]={}),u[e][t]||(u[e][t]={}),u[e][t][i]||(u[e][t][i]=[]),u[e][t][i].push(r)},[]),o=(0,n.useCallback)(({id:e,path:t,fragmentName:i,executionTime:r,newData:n})=>{if(p)return;let s=`${i}.${e}`;c[t]||(c[t]={}),c[t][s]||(c[t][s]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let o=c[t][s];(0,a.Ay)(n,o.previousData)?(o.wastedTime+=r,h+=r):o.resultUpdatedCount+=1,o.totalRenderTime+=r,o.renderCount+=1,o.previousData=n},[]),x=(0,n.useCallback)((e,t)=>{let i=`${Math.floor(e)}`;m[i]?m[i].push(t):m[i]=[t]},[]),g=(0,n.useCallback)((e,t)=>{_[e]=[...new Set(t)]},[]),b=(0,n.useMemo)(()=>({setMetric:i,setRawData:s,setRmaData:o,updateCommitTimeMap:x,setGroupTags:g,commitTimeMap:m,wasHealthCheckFiredRef:t}),[i,o,s,x,t,g]);return(0,l.jsx)(f,{value:b,children:e})}function g(){return(0,n.use)(f)}function b(e){let t,i,r,n,a={},o=(i=(t=Object.keys(m)).length,r=t.sort().slice(0,i),n={},r.forEach(e=>{let t=m[e];if(!t)return;let i=t.sort((e,t)=>e.startTime-t.startTime);for(let e=0;e<i.length;e+=1){let t=i[e],r=i[e+1];if(t&&r){let{startTime:e,id:i,uniqueId:a,actualDuration:s}=t,{startTime:o}=r,l=o<e+s?o-e:s;n[i]||(n[i]={}),n[i][a]||(n[i][a]=0),n[i][a]+=l}else if(t){let{actualDuration:e,id:i,uniqueId:r}=t;n[i]||(n[i]={}),n[i][r]||(n[i][r]=0),n[i][r]+=e}}}),n);return Object.keys(o).forEach(t=>{Object.keys(d[e]?.[t]??{}).forEach(i=>{let r=(0,s.SB)(t,i),n=o[t]?.[i],l=d[e]?.[t]?.[i];if(!n||!l)return;let c=l.mountTime??0,u=l.mountCount??0,p=l.updatesCount??0,h=Number(n.toFixed(2)),m=Number((c+h).toFixed(2)),f=p>0?Number((h/p).toFixed(2)):0,x=l.memoizationDeltaArray??[],g=Math.max(...x),b=x.reduce((e,t)=>e+t,0)/x.length,w=l.memoizationRatioArray??[],y=Math.max(...w),A=w.reduce((e,t)=>e+t,0)/w.length,v={...l,totalCount:u+p,totalTiming:m,updatesCount:p,updateTiming:h,averageUpdateTiming:f,maxMemoizationDelta:g,averageMemoizationDelta:b,maxMemoizationRatio:y,averageMemoizationRatio:A};a[t]||(a[t]={}),a[t][i]={groupTags:_[r]??[],metrics:v}})}),a}function w(e){return u[e]}function y(e){return["www/index.js","www/homefeed.js","www/pin/[id].js","www/collage-creation-tool.js","www/search/[scope].js"].includes(e)}function A(e){let t=c[e],i={};p=!0,t&&Object.keys(t).length&&y(e)&&(Object.entries(t).forEach(([e,t])=>{let[r]=e.split(".");r&&!i[r]&&(i[r]=!0,(0,o.U9)(`render_stats.rma.${r}.renderCount`,t.renderCount,{sampleRate:1}),(0,o.U9)(`render_stats.rma.${r}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,o.N9)(`render_stats.rma.${r}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,o.N9)(`render_stats.rma.${r}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,o.N9)("render_stats.rma.totalWastedTime",h,{sampleRate:1,tags:{path:e}}))}function v(){d={},c={},u={},m={},p=!1,h=0}},458345(e,t,i){i.d(t,{A:()=>p});var r=i(679902),n=i(432321),a=i(427471),s=i(435108),o=i(457315),l=i(81920),d=i(676692),c=i(121066),u=i(399952);let p=function(){let e=(0,n.A)();if(e?.isAuthenticated&&!function(){let e=(0,n.A)(),t=window.location.pathname.startsWith("/settings/notifications"),i=window.location.pathname.startsWith("/reports-and-violations/"),r=window.location.pathname.startsWith("/email/subscription")||window.location.pathname.startsWith("/email/remove")||t,a=window.location.pathname.startsWith("/pin/create/"),s="/pin-builder/"===window.location.pathname&&/url=/.test(window.location.href),{userAgent:o}=e||{userAgent:{isMobile:!1,isTablet:!1}};return o.isMobile||o.isTablet?r||i:a||s||r||i}()){let{viewType:t,viewParameter:i}=(0,d.Cs)()??{},n=(0,c.uy)(window),p=e.experimentsClient.checkExperiment("web_metrics_retry_count").anyEnabled;!function(e,t,i=!1){if(i){let i=0,r=3e4,n=()=>{a.A.create("ActiveUserResource",e).callCreate().catch(a=>{let d,c=a.message;if(c&&"object"==typeof c){"_t_message"in c&&delete c._t_message;try{d=JSON.stringify(c)}catch(e){d="Unable to serialize error message"}}else d=c;(0,l.GV)("webapp.metrics.dau.errors",{sampleRate:1,tags:{message:d,browser:e.data.browser,error_code:(0,o.A)(a,"api_error_code")||"unknown",is_auth:t}}),setTimeout(()=>{r>s.Qv||(r*=2,i+=1,e.data.auxData.event_retry_count=i,n())},r)})};n()}else{let i=a.A.create("ActiveUserResource",e),r=3e4;i.callCreate().catch(n=>{let a,d=n.message;if(d&&"object"==typeof d){"_t_message"in d&&delete d._t_message;try{a=JSON.stringify(d)}catch(e){a="Unable to serialize error message"}}else a=d;(0,l.GV)("webapp.metrics.dau.errors",{sampleRate:1,tags:{message:a,browser:e.data.browser,error_code:(0,o.A)(n,"api_error_code")||"unknown",is_auth:t}}),setTimeout(()=>{r>s.Qv||(r*=2,i.callCreate())},r)})}}({data:{appVersion:(0,u.A)(),auxData:{pwa_type:n&&"unknown"!==n?n:void 0,stage:e.stage??"unknown"},browser:e.userAgent.browserType,clientUUID:(0,r.A)(),event_type:7137,time:1e6*Date.now(),unauth_id:e.unauthId,view_type:t,view_parameter:i}},e.isAuthenticated,p)}}},33658(e,t,i){function r(e,t,i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(!a(e[r],t[r],i+1))return!1;return!0}function n(e,t,i){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(!(r in t)||!a(e[r],t[r],i+1))return!1;return!0}function a(e,t,i){if(i>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return r(e,t,i);case"[object Set]":return r(Array.from(e).sort(),Array.from(t).sort(),i);case"[object Object]":case"[object Arguments]":return n(e,t,i);case"[object Map]":return n(Object.fromEntries(e),Object.fromEntries(t),i);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function s(e,t){return a(e,t,0)}i.d(t,{Ay:()=>s})},131321(e,t,i){i.d(t,{A:()=>r});function r(e,t){return t in e}},136095(e,t,i){function r(e,t){return`${e}#${t}`}function n(e,t,i){return`${r(e,t)}${i.length>0?`#[${i.join("][")}]`:""}`}i.d(t,{SB:()=>r,tP:()=>n})},805863(e,t,i){i.d(t,{A:()=>a});var r=i(457315),n=i(752159);function a(){let e=navigator.serviceWorker;return e&&e.getRegistration?((0,n.PM)("mweb_service_worker.unregister_attempt"),e.getRegistration().then(e=>{if(e)return e.unregister().then(()=>((0,n.PM)("mweb_service_worker.unregister_success"),navigator.serviceWorker&&window.caches?window.caches.keys().then(e=>{let t=e.find(e=>e.startsWith("workbox-precaching"));return t?window.caches.delete(t):null}).then(()=>(0,n.PM)("mweb_service_worker.clear_app_shell")):Promise.resolve())).catch(e=>{(0,n.fu)("mweb_service_worker.unregister_fail",{error:(0,r.A)(e,"message")})})})):Promise.resolve()}},695171(e,t,i){i.d(t,{A:()=>r});let r=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},284247(e,t,i){i.d(t,{A:()=>a});var r=i(570805),n=i(695171);let a=(e,t)=>{let i={};return Object.keys(t).forEach(e=>{i[e]=t[e]?(0,n.A)(t[e].toString()):""}),(0,r.A)(e,i)}},385800(e,t,i){i.d(t,{A:()=>s,e:()=>a});var r=i(859471);let n=()=>{let[e,t]=(0,r.useState)(!1),[i,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1);return{active:e,focused:i,hovered:a,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}};function a({children:e}){return e(n())}let s=n},694804(e,t,i){i.d(t,{A:()=>o});var r=i(61163),n=i(859471),a=i(520434),s=i(562615);function o({text:e}){return(0,n.useEffect)(()=>{(0,r.A)("AccessibilityHiddenHeading","/app/www/Header/AccessibilityHiddenHeading.tsx")},[]),(0,s.jsx)(a.az,{display:"visuallyHidden",children:(0,s.jsx)(a._Y,{accessibilityLevel:1,children:e})})}},57454(e,t,i){i.d(t,{A:()=>eY});var r=i(61163),n=i(859471),a=i(106386),s=i(979638),o=i(520434),l=i(706114),d=i(458345),c=i(668014),u=i(296221),p=i(358203),h=i(586733),m=i(671996),_=i(678863),f=i(845126),x=i(642883),g=i(201593);let b={borderRadius:"32px 32px 0px 0px",bottom:0,left:0,overflow:"hidden",touchAction:"none",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",zIndex:1,width:"100vw",maxHeight:"100vw",minHeight:"30vh"},w={full:"100vh",default:"50vh",auto:""},y=({size:e,isDarkMode:t})=>(b.height=w[e],b.maxHeight="auto"===e?"90vh":"100vw",b.backgroundColor=t?g.be:"#FFFFFF",b);var A=i(995273),v=i(538329),j=i(911127),P=i(826258),S=i(562615);let T=({content:e,footer:t,header:i})=>{let[r,a]=(0,n.useState)(!1),s=(0,n.useRef)(null),l=(0,n.useCallback)(()=>{let e=s.current;e&&a(e?.clientHeight<e?.scrollHeight&&e.offsetHeight+e.scrollTop<e.scrollHeight)},[]);return(0,n.useEffect)(()=>{l()},[l]),(0,n.useEffect)(()=>(window?.addEventListener("resize",l),()=>{window?.removeEventListener("resize",l)}),[l]),(0,S.jsxs)(n.Fragment,{children:[(0,S.jsxs)(o.az,{ref:s,fit:!0,onScroll:l,overflow:"scroll",padding:0,children:[i,(0,S.jsx)(o.az,{flex:"grow",overflow:"auto",children:e})]}),!!t&&(0,S.jsx)(o.az,{dangerouslySetInlineStyle:r?{__style:{boxShadow:"var(--sema-space-0) var(--sema-space-negative-50) var(--sema-space-200) var(--sema-space-0) rgb(0 0 0 / 0.12)"}}:void 0,fit:!0,position:"relative",children:t})]})};function I({accessibilityModalLabel:e,allowClickAndDrag:t,allowBackgroundScroll:i=!1,children:a,closeOnOutsideClick:s=!0,footer:l,header:d,isOpen:c,mobileIsSlideUp:u,onDismiss:p,zIndex:h,size:m="auto"}){(0,n.useEffect)(()=>{(0,r.A)("SheetMobileWithMediaHeader","/app/packages/experiences/gestalt/SheetMobile/SheetMobileWithMediaHeader.tsx")},[]);let _=(0,v.A)(),f=(0,n.useRef)(null),{setAppFocusState:b}=(0,P.Y)(),[I,k]=(0,n.useState)(!1),{isDarkMode:z}=(0,g.D2)();if((0,n.useEffect)(()=>(c?b(!1):b(!0),()=>{c&&b(!0)}),[b,c]),(0,n.useEffect)(()=>(f.current=(0,x.A)(()=>{f.current&&k(!0)}),()=>{"u">typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&f.current&&(window.cancelAnimationFrame(f.current),f.current=null)}),[]),(0,n.useEffect)(()=>{let e=c&&!i;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[c,i]),!c)return null;let C=(({isDarkMode:e,size:t})=>{let i=e?g.be:"#FFFFFF";return{__style:{...y({size:t,isDarkMode:e}),backgroundColor:i,transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}}})({isDarkMode:z,size:m});C.__style.transform=(()=>{if(u||!(()=>{if("u"<typeof window)return!1;let e=Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth),t=Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight);return e<=380||t<=760})())return"";let e=Math.min(1,(Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return e=Math.max(.8,e),` scale(${e})`})();let E=(({size:e,isShowing:t,isDarkMode:i})=>{let r=y({size:e,isDarkMode:i});return r.transition="all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",r.transform=t?"translateY(0)":`translateY(${w[e]||"100vh"})`,{__style:r}})({size:m,isShowing:I,isDarkMode:z});return(0,S.jsx)(j.A,{allowClickAndDrag:t,children:(0,S.jsx)(o.Wd,{children:(0,S.jsxs)(o.az,{"aria-label":e,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:h||A.QN,children:[(0,S.jsx)(o.Rp,{accessibilityLabel:_.bt("Mobile sheet mask", "Mobile Sheet Mask", "mweb.sheet_mobile.mask", undefined, true),onTap:()=>{s&&p()},tapStyle:"none",children:(0,S.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new o.rk(1)})}),(0,S.jsx)(o.az,{color:"default",dangerouslySetInlineStyle:u?E:C,position:"fixed",children:(0,S.jsx)(o.az,{direction:"column",display:"flex",justifyContent:"between",maxHeight:E.__style?.maxHeight||"100vh",position:"relative",width:"100%",children:(0,S.jsx)(T,{content:a,footer:l,header:d})})})]})})})}var k=i(81920);let z=({display_data:e,complete:t,dismiss:i,context_aux_data:r})=>{let a=(0,v.A)(),{logContextEvent:s}=(0,h.o)(),[l,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(0),p=()=>{d(!1),i()},x=(0,n.useCallback)((e,t)=>{s({event_type:e,component:15489,element:t,aux_data:{experience_id:r.experience_id,placement_id:r.placement_id,step_number:c+1,step_index:c}})},[r.experience_id,r.placement_id,c,s]);if((0,n.useEffect)(()=>{x(13,18257)},[c,x]),!l)return null;if(!(e.steps&&e.steps.length>0&&e.steps.every(e=>e.title&&e.subtitle&&e.primary_button&&e.image)))return(0,k.GV)(m.pv,{sampleRate:1,tags:{experience_id:r.experience_id,placement_id:r.placement_id,reason:"Required display data not present",platform:4}}),null;let g=e.steps[c];if(!g)return(0,k.GV)(m.pv,{sampleRate:1,tags:{experience_id:r.experience_id,placement_id:r.placement_id,reason:`No step for index ${c}`,platform:4}}),null;let b=window?.innerWidth||375,w=(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(o.ib,{top:0,children:(0,S.jsx)(o.az,{padding:3,position:"absolute",width:"100%",children:(0,S.jsx)(o.K0,{accessibilityLabel:a.bt("Dismiss", "Dismiss", "experiences.ExperienceModalWindow.modalDismissIconButton", undefined, true),bgColor:"washLight",icon:"close",iconColor:"default",onClick:()=>{x(123,75),p()},size:"lg"})})}),(0,S.jsx)(o.iX,{contentAspectRatio:.8,height:1.25*b,width:b,children:(0,S.jsx)(o._V,{alt:g.image.image_alt,color:g.image.dominant_color||void 0,fit:"cover",naturalHeight:g.image.height,naturalWidth:g.image.width,src:g.image.url})})]}),y=(0,S.jsxs)(o.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",paddingX:2,paddingY:3,children:[g.secondary_button&&(0,S.jsx)(_.A,{buttonType:"secondary",data:(0,f.q)(g.secondary_button,()=>{x(102,13005),p()}),experienceSchema:2}),(0,S.jsx)(_.A,{buttonType:"primary",data:(0,f.q)(g.primary_button,()=>{c<e.steps.length-1?(x(102,13004),u(c+1)):t()}),experienceSchema:2})]});return(0,S.jsx)(I,{accessibilityModalLabel:a.bt("Multi-step modal", "Multi Step Modal", "experiences.ExperienceMultiStepModal.accessibilityModalLabel", undefined, true),allowClickAndDrag:!1,footer:y,header:w,isOpen:l,mobileIsSlideUp:!0,onDismiss:()=>{x(123,16412),p()},size:"auto",children:(0,S.jsxs)(o.az,{padding:3,children:[(0,S.jsx)(o.az,{marginBottom:3,children:(0,S.jsx)(o._Y,{size:"500",children:g.title})}),(0,S.jsx)(o.KJ,{children:g.subtitle})]})})};function C({experience:e}){return(0,n.useEffect)(()=>{(0,r.A)("ExperienceMultiStepModal","/app/packages/experiences/Experiences/ExperienceMultiStepModal/ExperienceMultiStepModal.tsx")},[]),(0,S.jsx)(u.Je,{eligibleSchemas:[2],eligibleTypes:[26],experience:e,children:({complete:t,dismiss:i,experience:{display_data:r}})=>(0,S.jsx)(z,{complete:t,context_aux_data:{experience_id:e?.experience_id,placement_id:e?.placement_id},dismiss:i,display_data:r})})}var E=i(171768),H=i(777275),R=i(567176),M=i(693154),D=i(303196),L=i(214429),U=i(41206),F=i(601185),O=i(844255),N=i(430705),W=i(618243),B=i(328582),V=i(998556),$=i(319571),J=i(706466),Y=i(803489),q=i(971289),G=i(720575),K=i(807782),X=i(825179),Q=i(439524),Z=i(694804);i(487688);var ee=i(743372),et=i(168079),ei=i(328673);let er={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}};function en({currentTabIndex:e,tabBoards:t}){(0,n.useEffect)(()=>{(0,r.A)("MoreIdeasTabs","/app/www/Homefeed/MoreIdeasTabs.tsx")},[]);let i=(0,n.useRef)(null),l=(0,n.useRef)(!1),d=(0,n.useRef)([]),c=(0,s.Zp)(),u=(0,v.A)(),p=(0,ee.A)(),h=(0,a.wA)(),m=t.length?[{href:"/",text:(0,S.jsx)(o.az,{children:u.bt("All", "All", "homefeed.moreIdeasTab.homefeedTab", undefined, true)}),tabType:1},...t.filter(e=>e).map(({id:e,name:t},i)=>({href:`/?boardId=${String(e)}`,text:(0,S.jsx)(o.az,{dangerouslySetInlineStyle:er,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:2,ref:d.current[i]}))]:null;if((0,et.A)(()=>{d.current=Array(t.length).fill(void 0).map((e,t)=>d.current[t]||(0,n.createRef)())}),(0,n.useEffect)(()=>()=>{l.current&&(window.cancelAnimationFrame(l.current),l.current=null)}),!m)return null;let _=m.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,S.jsx)(o.az,{ref:i,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,S.jsx)(o.tU,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{let i=m?.[e];if(i){let r;r=i.boardId,h((0,ei.Y)(r,e));let n=1===i.tabType?u.bt("All", "All", "homefeed.moreIdeasTab.homefeedTab", undefined, true):t.find(e=>e.id===i.boardId)?.name;p({event_type:101,view_type:1,view_parameter:92,component:13184,element:1===i.tabType?11081:11082,aux_data:{index:e.toString(),board_id:i.boardId,referrer:19,tab_title:n},object_id_str:i.boardId})}let{pathname:r,state:n}=m?{pathname:(m[e]||m[0]).href,state:(m[e]||m[0]).locationState||void 0}:{};c(r,{state:n})},tabs:_})})}var ea=i(765346),es=i(273919),eo=i(863265),el=i(593936),ed=i(242978),ec=i(284247),eu=i(996209),ep=i(809756),eh=i(499053),em=i(699613);let e_=new o.rk(100);function ef({pinUrl:e,inviter:t}){(0,n.useEffect)(()=>{(0,r.A)("NuxSharedPinBanner","/app/www/pages/duplo/NuxSharedPinBanner.tsx")},[]);let i=(0,v.A)(),s=(0,em.HR)(),[l,d]=(0,n.useState)(!0),c=(0,a.wA)(),u=()=>c((0,eh.A)(null,null)),p=(0,eu.A)(e),{data:h}=(0,N.A)({name:"PinResource",options:{id:p,field_set_key:"detailed",is_mobile_fork:!0}}),m=p?s(p):null,_=h??m,f=_?.image_medium_url??_?.image_large_url,x=t.first_name??t.full_name??t.username??"",g=(0,ec.A)(i.bt("Tell {{ name }} what you think", "Tell {{ name }} what you think", "HomePage.SharedPinBannerTitle", undefined, true),{name:x}),{navFooterHeight:b}=(0,ep.o)();return p&&_&&x&&f&&l?(0,S.jsx)(o.az,{marginBottom:2,marginTop:2,paddingX:2,children:(0,S.jsx)(o.vF,{message:i.bt("See what inspired them and reply with your thoughts", "See what inspired them and reply with your thoughts", "HomePage.SharedPinBanner.Subtext", undefined, true),offset:{bottom:b+8,top:0},onDismiss:()=>{u(),d(!1)},primaryAction:{href:e+"&hide_app_upsell=true",label:i.bt("See Pin", "See Pin", "HomePage.SharedPinToastAction", undefined, true),accessibilityLabel:i.bt("See shared Pin", "See shared Pin", "HomePage.SharedPinToastAction.accessibilityLabel", undefined, true),onClick:u,role:"link"},secondaryAction:{accessibilityLabel:i.bt("Later", "Later", "HomePage.SharedPinBannerSecondary.accessibilityLabel", undefined, true),label:i.bt("Later", "Later", "HomePage.SharedPinBannerSecondary", undefined, true),onClick:()=>{u(),d(!1)},role:"button"},thumbnail:{image:(0,S.jsx)(o._V,{alt:"Shared Pin",color:"transparent",fit:"cover",naturalHeight:40,naturalWidth:40,src:f})},title:g,zIndex:e_})}):null}function ex(){(0,n.useEffect)(()=>{(0,r.A)("PreferencesUpdatedBanner","/app/www/pages/duplo/PreferencesUpdatedBanner.tsx")},[]);let{shouldRefreshHomefeed:e,clearRefreshFlag:t}=(0,el.d)(),{showToast:i}=(0,J.CG)(),a=(0,v.A)(),s=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(e&&!s.current){s.current=!0;let e=a.bt("Preferences updated! We're refreshing your feed now.", "Preferences updated! We're refreshing your feed now.", "PreferencesUpdatedBanner.message", undefined, true);i(({hideToast:i})=>(0,S.jsx)(R.A,{duration:3e3,onHide:()=>{i(),t(),s.current=!1},text:e}))}else e||(s.current=!1)},[e,t,i,a]),null}var eg=i(623987),eb=i(408738);function ew(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ey=(0,eb.A)(()=>i.e("82269").then(i.bind(i,922453)),void 0,e=>922453,"app-www-pages-duplo-CoreActionsHeader",e=>["82269"]),eA=(0,eb.A)(()=>i.e("65469").then(i.bind(i,497826)),void 0,e=>497826,"app-www-stories-FullWidthPinStory",e=>["65469"]),ev=(0,eb.A)(()=>i.e("11757").then(i.bind(i,50812)),{ssr:!1},e=>50812,void 0,void 0),ej=(0,eb.A)(()=>i.e("30764").then(i.bind(i,907748)),void 0,e=>907748,"app-www-Homefeed-HomefeedMoreIdeasTabContent",e=>["30764"]),eP=(0,eb.A)(()=>i.e("45231").then(i.bind(i,827279)),void 0,e=>827279,"app-www-stories-LandingPageStory-LandingPageStory",e=>["45231"]),eS=(0,eb.A)(()=>Promise.all([i.e("18324"),i.e("46782"),i.e("49412")]).then(i.bind(i,945101)),{ssr:!1},e=>945101,void 0,void 0),eT=(0,eb.A)(()=>Promise.all([i.e("43744"),i.e("99233")]).then(i.bind(i,308344)),{ssr:!1},e=>308344,void 0,void 0),eI=(0,eb.A)(()=>i.e("93920").then(i.bind(i,626531)),{ssr:!1},e=>626531,void 0,void 0),ek=(0,eb.A)(()=>Promise.all([i.e("91796"),i.e("28081")]).then(i.bind(i,668008)),{ssr:!1},e=>668008,void 0,void 0),ez=(0,n.lazy)(()=>i.e("98325").then(i.bind(i,757876))),eC=(0,n.lazy)(()=>i.e("72022").then(i.bind(i,21589))),eE=(0,n.lazy)(()=>i.e("39634").then(i.bind(i,92041))),eH=(0,n.lazy)(()=>i.e("41334").then(i.bind(i,64469))),eR=(0,n.lazy)(()=>i.e("9106").then(i.bind(i,286441))),eM=(0,n.lazy)(()=>i.e("99062").then(i.bind(i,562773))),eD={feedKey:ed.bg,trafficSource:ed.mA,resourceName:ed.jC,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},eL={first_page_size:"25",page_size:"10"},eU=({webMobileHomeFeedTakoverExperience:e})=>{let{feedKey:t,feedItemProps:i,pullToRefresh:r}=eD,n=(0,s.zy)(),d=(0,s.Zp)(),c=(0,a.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),u={webMobileHomeFeedTakoverExperience:e,location:n,navigate:d},p=(0,a.d4)(({feeds:e})=>e[t]??[]),{selectedUseCases:h,selectedPins:m}=(0,eo.p)(),_=(0,ea.xx)(h,m),f=!c,x=_.length>0?{in_nux:c,nux_signals_map:_}:{in_nux:c},g={...ed.Vf,...f?{...eL}:{...x},in_local_navigation:!0,static_feed:!!(n&&(n.pathname.includes("pwt_performance_testing")||void 0!==(0,Y.A)(n.search).pwt_performance_testing))},b=(0,N.A)({name:ed.jC,options:g}),{isAtEnd:w,isFetching:y,fetchMore:A,data:v,refresh:j}=b,P={includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,em.zy)())};c&&(0,k.GV)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}});let T=(()=>{let{isGraphQLEnabledInGeneral:e}=(0,K.aR)(),{locale:t}=(0,O._8)(),i=(0,em.zy)();return({feedItems:r,prevFeedItems:n,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:{pinId:s,feedItem:o}})=>{if(!r.length)return null;if(a&&n.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),i=e(n,5),a=e(r,5),s={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,k.GV)("home_product.homefeed.refresh",{sampleRate:1,tags:s}),JSON.stringify(i)===JSON.stringify(a)&&(0,k.GV)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:s})}if(s&&!e){if(n.length>0&&n[0]!==r[0])return(0,V.y1)().removeItem(l.sH),{feedItem:null,pinId:null};else if((0===n.length||n[0]===r[0]&&n.length!==r.length||!o)&&i[s]&&!r.slice(0,5).some(({id:e})=>e===s))return{feedItem:{id:s,type:"pin",trackingParams:r[0].trackingParams},pinId:s}}return null}})(),I=v?.length?v[0]:null;if(e&&e.display_data?.in_checklist_education&&e.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:I?.id&&(0,S.jsx)(eg.A,{storyId:I.id,children:e=>(0,S.jsx)(eA,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},n=p.slice(1);return(0,S.jsx)(o.az,{"data-test-id":"homefeed",children:(0,S.jsx)(X.RM,{authHomefeedComponentDidUpdate:T,feedItemProps:i&&i(u),feedItems:n,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!w,isLoadingNext:y,loadNext:()=>A(),refetch:()=>j()},pullToRefresh:r,trafficSource:ed.mA,visuallyCompleteProfilerOptions:P})})}return f&&!e?.display_data?(0,S.jsx)(o.az,{"data-test-id":"homefeed-ssr",children:(0,S.jsx)(X.Ir,{authHomefeedComponentDidUpdate:T,feedItemProps:i&&i(u),feedKey:ed.bg,pullToRefresh:r,resource:b,serverRender:!0,trafficSource:ed.mA,visuallyCompleteProfilerOptions:P})}):(0,S.jsx)(o.az,{"data-test-id":"homefeed",children:(0,S.jsx)(X.Ir,{authHomefeedComponentDidUpdate:T,feedItemProps:i&&i(u),feedKey:t,pullToRefresh:r,resource:b,trafficSource:ed.mA,visuallyCompleteProfilerOptions:P})})},eF=(0,eb.A)(()=>i.e("79716").then(i.bind(i,785327)),{ssr:!1},e=>785327,void 0,void 0),eO=(0,eb.A)(()=>i.e("83602").then(i.bind(i,413609)),{ssr:!1},e=>413609,void 0,void 0),eN=(0,eb.A)(()=>i.e("42948").then(i.bind(i,830255)),{ssr:!1},e=>830255,void 0,void 0),eW=(0,eb.A)(()=>i.e("78449").then(i.bind(i,153096)),{ssr:!1},e=>153096,void 0,void 0),eB=(0,eb.A)(()=>i.e("13099").then(i.bind(i,411206)),{ssr:!1},e=>411206,void 0,void 0),eV=(0,eb.A)(()=>i.e("78416").then(i.bind(i,256403)),{ssr:!1},e=>256403,void 0,void 0);class e$ extends n.PureComponent{constructor(...e){super(...e),ew(this,"state",{...(0,ea.of)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:0,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1,showQRAppErrorBanner:!1}),ew(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:i,extraBlpImages:r}=this.state,n=!t&&e&&504192===e.experience_id,a=n&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&n?(0,S.jsx)(c.A,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:a?(0,S.jsx)(eV,{experience:e,extraImageInfo:i.length>0?i:r,viewParameter:92,viewType:1}):(0,S.jsx)(eW,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t,navigate:i,location:r}=e;return(0,Y.A)(r.search).show_qr_app_error?(i("/",{replace:!0}),{showQRAppErrorBanner:!0}):"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{dispatchViewedSharedPins:e,location:t,i18n:i,showToast:r,navigate:n}=this.props,{sharedPinData:a}=this.state;(0,es.h)(!1),(0,d.A)(),a&&Object.keys(a).length>0&&e(a),t.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),t.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),t.state?.showError&&r(({hideToast:e})=>(0,S.jsx)(R.A,{duration:5e3,onHide:e,text:i.bt("We can’t find that idea. Try searching for one just like it.", "We can’t find that idea! Try searching for one just like it.", " - ", undefined, true),type:"error"})),(0,Y.A)(t.search).show_yip_modal&&(n("/",{replace:!0}),this.setState({showYipModal:!0})),this.props.shouldRefreshHomefeed&&(0,Q.Y9)("homefeed")}render(){let{checkExperiment:e,currentUserId:t,currentUsername:i,everythingFeedExperience:r,navigate:a,i18n:s,isAuthenticated:l,isEligibleForCoreActionsHeader:d,isPartner:h,location:m,moreIdeasStory:_,newUserWelcomeStoryExperience:f,webMobileHomeFeedTakoverExperience:x,selectedTabBoardId:g,tabBoards:b,shouldRefreshHomefeed:w}=this.props,{currentTabIndex:y,showUnlinkTokenExpiredModal:A,showDeleteAccountSurveyModal:v,showYipModal:j,shouldDismissCoreActionsHeader:P,showQRAppErrorBanner:T}=this.state,I=(0,Y.A)(m.search),k=I&&I.boardId||g;if(r&&!T)switch(r.experience_id){case 40002:case 10105:return(0,S.jsx)(c.A,{name:"SafeSuspense_HomePage_Nux",children:(0,S.jsx)(W.A,{fallback:(0,S.jsx)(B.A,{accessibilityLabel:this.props.i18n.bt("Loading new user education", "Loading new user education", "Loading spinner", undefined, true)}),children:h?(0,S.jsx)(eN,{experience:r}):(0,S.jsx)(eO,{experience:r})})});case 500681:return(0,S.jsx)(c.A,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,S.jsx)(eF,{fallback:(0,S.jsx)(B.A,{accessibilityLabel:this.props.i18n.bt("Loading experience", "Loading experience", "loading experience spinner", undefined, true)})})})}let z=l&&e("mweb_hf_core_actions_header").anyEnabled&&d,R=()=>{this.setState({shouldDismissCoreActionsHeader:!0})};return(0,S.jsx)(G.A,{viewParameter:92,viewType:1,children:(0,S.jsx)($.A,{view:1,viewParameter:92,children:(0,S.jsxs)(L.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[T&&(0,S.jsx)(o.az,{marginTop:4,children:(0,S.jsx)(eM,{})}),this.props.sessionSharedPinLandingInfo?.url&&this.props.sessionSharedPinLandingInfo?.inviter&&this.props.checkExperiment("ce_mweb_nux_shared_pin_banner").anyEnabled?(0,S.jsx)(ef,{inviter:this.props.sessionSharedPinLandingInfo.inviter,pinUrl:this.props.sessionSharedPinLandingInfo.url}):null,(0,S.jsx)(Z.A,{text:s.bt("Home", "Home", "HomePage.HiddenAccessibilityHeader", undefined, true)}),!!b?.length&&(0,S.jsx)(D.default,{hideOnScroll:l,noPadding:!0,overrideTop:0,children:(0,S.jsx)(o.az,{paddingY:1,children:(0,S.jsx)(en,{currentTabIndex:y,tabBoards:b||[]})})}),_&&(0,S.jsx)(o.az,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,S.jsx)(eg.A,{storyId:_.id||"",children:e=>(0,S.jsx)(eA,{slotIndex:0,story:e,viewParameter:92,viewType:1},_.id)})}),0!==y&&k&&y<=(b?.length??0)&&(0,S.jsx)(ej,{boardId:k})||(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)(C,{experience:r}),(0,S.jsx)(u.Vj,{experience:r,placementId:40001}),(0,S.jsx)(u.nU,{placementId:40001}),(0,S.jsx)(u.aR,{experience:r,placementId:40001}),(0,S.jsx)(p.A,{placementId:r?.placement_id}),(0,S.jsx)(H.A,{placementId:1000544}),(0,S.jsx)(E.A,{placementId:1000558}),(0,S.jsx)(u.Je,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:r,children:(0,S.jsx)(W.A,{children:(0,S.jsx)(eC,{experience:r})})}),r&&(0,S.jsx)(u.Je,{eligibleIds:[507483],experience:r,children:({dismiss:e,experience:{display_data:t}})=>{let i=!("is_blocking"in t)||t.is_blocking;return(0,S.jsx)(eS,{container:"HomePage",dismiss:e,isBlockingModal:i})}}),r&&(0,S.jsx)(u.Je,{eligibleIds:[507661],experience:r,children:({dismiss:e,experience:{display_data:t}})=>(0,S.jsx)(eT,{container:"HomePage",displayData:t,onDismiss:e})}),r&&(0,S.jsx)(u.Je,{eligibleIds:[507924],experience:r,children:({complete:e,dismiss:t})=>(0,S.jsx)(eI,{onComplete:e,onDismiss:t})}),r&&(0,S.jsx)(u.Je,{eligibleIds:[508387],experience:r,placementId:40001,children:({complete:e,dismiss:t,experience:i})=>(0,S.jsx)(ek,{complete:e,dismiss:t,experience:i})}),r&&(0,S.jsx)(u.Je,{eligibleIds:[505326],experience:r,children:({complete:e,dismiss:t})=>(0,S.jsx)(n.Suspense,{children:(0,S.jsx)(eR,{complete:e,dismiss:t})})}),r&&(0,S.jsx)(u.Je,{eligibleIds:[505801],experience:r,children:({complete:e})=>(0,S.jsx)(n.Suspense,{children:(0,S.jsx)(eH,{complete:e})})}),f?.display_data?.story&&f.display_data.showUpdatedLandingPageStory&&(0,S.jsx)(eP,{isMoreIdeasTabsVisible:!!b?.length,newUserWelcomeStoryExperience:f}),(0,S.jsxs)(o.az,{marginTop:2*(!b?.length&&!_),children:[!P&&z&&(0,S.jsx)(ey,{onDismiss:R,username:i||""}),(0,S.jsx)(eU,{webMobileHomeFeedTakoverExperience:x})]})]}),A&&(0,S.jsx)(W.A,{children:(0,S.jsx)(o.az,{"data-test-id":"unlink-expired-token",children:(0,S.jsx)(eE,{onDismiss:()=>{a("/",{replace:!0}),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),v&&(0,S.jsx)(W.A,{children:(0,S.jsx)(ez,{isPartner:h,onDismiss:()=>{a("/",{replace:!0}),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:i})}),j&&(0,S.jsx)(c.A,{name:"YearInPreviewConfirmPublishModal",children:(0,S.jsx)(eB,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker(),0===y&&r&&(0,S.jsx)(u.Je,{eligibleIds:[508418],experience:r,children:()=>w?(0,S.jsx)(ex,{}):(0,S.jsx)(ev,{hasTabBoards:(b?.length??0)>0})})]})})})}}let eJ=[];function eY(){(0,n.useEffect)(()=>{(0,r.A)("HomePage","/app/www/pages/duplo/HomePage.tsx")},[]);let e=(0,v.A)(),t=(0,a.wA)(),i=(0,M.A)(),{showToast:o}=(0,J.CG)(),l=(0,s.Zp)(),d=(0,s.zy)(),{checkExperiment:c}=(0,F.A)(),{shouldRefreshHomefeed:p,clearRefreshFlag:h}=(0,el.d)(),{experience:m}=(0,u.Rf)(40001),{experience:_}=(0,u.Rf)(1000115),{experience:f}=(0,u.Rf)(1000411),x=(0,a.d4)(({feeds:e})=>e.homefeed),g=(0,a.d4)(({homefeedTabUI:e})=>e.activeTabBoardId),b=(0,a.d4)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:w,isLimitedLogin:y}=i,A=(0,a.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),j=(0,a.d4)(({session:e})=>e.sharedPinLandingInfo??null),P=i.isAuth?i.id:void 0,T=i.isAuth?i.username:void 0,I=!!i.isAuth&&i.isPartner,k=(0,q.qJ)(),z=Array.isArray(x)?x:[],C=!k&&z[0]&&"story"===z[0].type?z[0]:null,E=(0,a.d4)(({stories:e})=>C?e[C.id]:null),H=E&&E.story_type&&E.story_type.startsWith("boards_more_ideas_feed_upsell")?E:null,R=z.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{data:D}=(0,N.A)(w&&c("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:i.id,field_set_key:"core_actions_header"}}:null),L=(0,q.M)();(0,U.A)(d,o,e);let O={checkExperiment:c,currentUserId:P,currentUsername:T,dispatchViewedSharedPins:e=>t({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),everythingFeedExperience:m,navigate:l,i18n:e,isAuthenticated:w,isEligibleForCoreActionsHeader:D?.is_eligible_for_core_actions_header,isLimitedLogin:y,isMobile:L,isPartner:I,location:d,moreIdeasStory:H,newUserWelcomeStoryExperience:f,selectedTabBoardId:g,selectedTabIndex:b,showToast:o,tabBoards:R??eJ,webMobileHomeFeedTakoverExperience:_,shouldRefreshHomefeed:p,clearRefreshFlag:h,inNux:A,sessionSharedPinLandingInfo:j};return(0,S.jsx)(e$,{...O})}},242978(e,t,i){i.d(t,{Vf:()=>o,bg:()=>n,jC:()=>s,ks:()=>l,mA:()=>a});var r=i(788332);let n="homefeed",a="feed_home",s="UserHomefeedResource",o={field_set_key:"mobile_grid_item",prepend:!1},l=(0,r.A)(o)},328673(e,t,i){i.d(t,{Y:()=>r});let r=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},499053(e,t,i){i.d(t,{A:()=>r});function r(e,t){return{type:"SET_SHARED_PIN_LANDING_INFO",payload:{url:e,inviter:t}}}},987093(e,t,i){i.d(t,{AD:()=>m,X2:()=>u,e6:()=>d,sN:()=>c,x2:()=>p});var r=i(257300),n=i(974694);function a(e,t){return(0,r.A)({url:"/v3/users/{followee}/follow/",urlParams:{followee:e},method:"PUT",data:t?{invite_code:t}:{}})}function s(e){return(0,r.A)({url:"/v3/users/{followee}/follow/",urlParams:{followee:e},method:"DELETE"})}let o=(e,t,i,r)=>{let a=t().session?.userId;e((0,n.pV)(i,r)),a&&e((0,n.yX)(a,r))},l=(e,t,i,r)=>{o(e,t,i,!r)};function d(e,t=null,i,r,n){return(s,d)=>{o(s,d,e,!0),a(e,n).then(()=>{i({event_type:45,object_id_str:e,aux_data:t?{pin_id:t}:void 0,clientTrackingParams:r??void 0})}).catch(()=>{l(s,d,e,!0)})}}function c(e,t=null,i,r,n){return async(s,d)=>{o(s,d,e,!0);try{await a(e,n),i({event_type:45,object_id_str:e,aux_data:t?{pin_id:t}:void 0,clientTrackingParams:r??void 0})}catch(t){throw l(s,d,e,!0),t}}}function u(e,t=null,i,r){return(n,a)=>{o(n,a,e,!1),s(e).then(()=>{i({event_type:46,object_id_str:e,aux_data:t?{pin_id:t}:void 0,clientTrackingParams:r??void 0})}).catch(()=>{l(n,a,e,!1)})}}function p(e,t=null,i,r){return async(n,a)=>{o(n,a,e,!1);try{await s(e),i({event_type:46,object_id_str:e,aux_data:t?{pin_id:t}:void 0,clientTrackingParams:r??void 0})}catch(t){throw l(n,a,e,!1),t}}}let h=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),m=e=>t=>{e.length>0&&((0,r.A)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e}}).catch(()=>t(h(e,!1))),t(h(e,!0)))}},974694(e,t,i){i.d(t,{Bt:()=>c,Fq:()=>p,LR:()=>a,Wi:()=>h,oH:()=>u,om:()=>d,pV:()=>s,yX:()=>o});var r=i(257300),n=i(805863);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:i,blockContext:n,logContextEvent:a})=>async s=>{s(l(e,!0));let o=await (0,r.A)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:t,block_source:i,block_context:n}}).catch(()=>s(l(e,!1)));return a({event_type:54,object_id_str:e}),o},c=(e,t)=>async i=>{i(l(e,!1));let n=await (0,r.A)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>i(l(e,!0)));return t({event_type:55,object_id_str:e}),n};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>(0,r.A)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:t}}),h=(e,t,i)=>(a,s)=>{(0,r.A)({url:"/v3/users/me/",method:"POST"}).then(()=>{i({event_type:48,object_id_str:s().session.userId}),e(),(0,n.A)()},t)}},623987(e,t,i){i.d(t,{A:()=>n});var r=i(106386);function n({children:e,storyId:t}){let i=(0,r.d4)(({stories:e})=>e[t]);return i&&e(i)}},831184(e,t,i){function r(e){let[t,i]=e.split(/\/(.*)+/);return{filepath:i||"",site:t||""}}function n(e,t){return t?`${e||""}/${t}`:`/${e||""}`}i.d(t,{DS:()=>n,j9:()=>r})},912849(e,t,i){i.d(t,{AJ:()=>s,Cw:()=>a,gx:()=>o});var r=i(987628),n=i(831184);let{Provider:a,get:s}=(0,r.A)("HandlerId");function o(){let e=s();return(0,n.j9)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/34284.en_GB-e6424e31d46879c6.mjs.map